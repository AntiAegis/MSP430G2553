/*
 *	File			:	Header.h
 *	Date created	:	22/08/2016
 *	Author			:	Nguyen Chinh Thuy
 *	Language		: 	C
 *	IDE				:	CCS6.1.2.00015
 *	Target object	:	MSP430G2553
 *	Current version	:	1.0.1
 *	Description		:	Moore State Machine
 */
#ifndef HEADER_H_
#define HEADER_H_
/**************************************************************************************************
 *	INCLUDEs
 *************************************************************************************************/
#include <msp430g2553.h>
#include "VERSION 1_2_3/CLOCK_1_2_3.h"
#include "VERSION 1_0_1/GPIO_1_0_1.h"


/**************************************************************************************************
 *	DEFINITIONs
 *************************************************************************************************/
/* Pin mapping */
#define			SENSOR1			BIT4		// P1.4
#define			SENSOR2			BUTTON
#define			MOTOR			LED_RED
//-------------------------------------------------------------------------------------------------
/* Enum of State */
typedef enum
{
	STATE_STOP_PUMP,
	STATE_PUMP
} state;
//-------------------------------------------------------------------------------------------------
/* Enum of Sensor */
typedef enum
{
	SENSOR_UNDER = SENSOR1,
	SENSOR_OVER = SENSOR2
} sensor;
//-------------------------------------------------------------------------------------------------
/* Enum of Motor */
typedef enum
{
	MOTOR_OFF = 0,
	MOTOR_ON = 1
} motor;
//-------------------------------------------------------------------------------------------------


/**************************************************************************************************
 *	GLOBALs
 *************************************************************************************************/
extern volatile state varState;


/**************************************************************************************************
 *	FUNCTION's PROTOTYPEs
 *************************************************************************************************/
/* Setup */
void stateSetup 	(void);
void sensorSetup 	(void);
void motorSetup 	(void);
void systemSetup	(void);
//-------------------------------------------------------------------------------------------------
/* Implement */
unsigned char	sensorState 	(void);
void			motorControl 	(motor MOTOR_);
void 			stateUpdate 	(void);
//-------------------------------------------------------------------------------------------------


/**************************************************************************************************
 *	END OF HEADER.h
 *************************************************************************************************/
#endif /* HEADER_H_ */
